// Desafio Super Trunfo - Comparar 2 cartas por 1 atributo (fixo no codigo)
#include <stdio.h>
#include <string.h>

// ------------------------------
// Escolha do atributo (fixo no codigo)
// Troque aqui para comparar outro atributo:
// 1 = Populacao
// 2 = Area
// 3 = PIB
// 4 = Densidade Populacional (MENOR vence)
// 5 = PIB per capita
// ------------------------------
#define ATRIBUTO_ESCOLHIDO 1

int main() {
    // ==========================
    // Declaração das variáveis
    // ==========================

    // Carta 1
    char estado1;
    char codigo1[20];
    char nome1[60];
    unsigned long int populacao1;
    float area1;
    float pib1;
    int pontos1;

    // Carta 2
    char estado2;
    char codigo2[20];
    char nome2[60];
    unsigned long int populacao2;
    float area2;
    float pib2;
    int pontos2;

    // ==========================
    // Entrada (Cadastro) - Carta 1
    // ==========================
    printf("Cadastro da carta 1\n");
    printf("Digite uma letra de 'A' a 'H' representando um estado: ");
    scanf(" %c", &estado1);

    printf("Digite a letra do estado seguida de um numero de 01 a 04: ");
    scanf("%19s", codigo1);

    // Limpando o '\n' do buffer antes do fgets
    getchar();

    printf("Digite o nome da cidade: ");
    fgets(nome1, sizeof(nome1), stdin);
    nome1[strcspn(nome1, "\n")] = '\0'; // remove o \n do final

    printf("Digite a populacao: ");
    scanf("%lu", &populacao1);

    printf("Digite a area em km2: ");
    scanf("%f", &area1);

    printf("Digite o PIB: ");
    scanf("%f", &pib1);

    printf("Digite o numero de pontos turisticos: ");
    scanf("%d", &pontos1);

    printf("\n-----------------------------\n\n");

    // ==========================
    // Entrada (Cadastro) - Carta 2
    // ==========================
    printf("Cadastro da carta 2\n");
    printf("Digite uma letra de 'A' a 'H' representando um estado: ");
    scanf(" %c", &estado2);

    printf("Digite a letra do estado seguida de um numero de 01 a 04: ");
    scanf("%19s", codigo2);

    getchar();

    printf("Digite o nome da cidade: ");
    fgets(nome2, sizeof(nome2), stdin);
    nome2[strcspn(nome2, "\n")] = '\0';

    printf("Digite a populacao: ");
    scanf("%lu", &populacao2);

    printf("Digite a area em km2: ");
    scanf("%f", &area2);

    printf("Digite o PIB: ");
    scanf("%f", &pib2);

    printf("Digite o numero de pontos turisticos: ");
    scanf("%d", &pontos2);

    printf("\n-----------------------------\n\n");

    // ==========================
    // Cálculos obrigatórios
    // ==========================
    float densidade1 = (area1 > 0.0f) ? ((float)populacao1 / area1) : 0.0f;
    float pibPerCapita1 = (populacao1 > 0) ? (pib1 / (float)populacao1) : 0.0f;

    float densidade2 = (area2 > 0.0f) ? ((float)populacao2 / area2) : 0.0f;
    float pibPerCapita2 = (populacao2 > 0) ? (pib2 / (float)populacao2) : 0.0f;

    // ==========================
    // Escolha do atributo (fixo no código)
    // ==========================
    float valor1 = 0.0f;
    float valor2 = 0.0f;
    char nomeAtributo[50];

    if (ATRIBUTO_ESCOLHIDO == 1) {
        strcpy(nomeAtributo, "Populacao");
        valor1 = (float)populacao1;
        valor2 = (float)populacao2;
    } else if (ATRIBUTO_ESCOLHIDO == 2) {
        strcpy(nomeAtributo, "Area");
        valor1 = area1;
        valor2 = area2;
    } else if (ATRIBUTO_ESCOLHIDO == 3) {
        strcpy(nomeAtributo, "PIB");
        valor1 = pib1;
        valor2 = pib2;
    } else if (ATRIBUTO_ESCOLHIDO == 4) {
        strcpy(nomeAtributo, "Densidade Populacional");
        valor1 = densidade1;
        valor2 = densidade2;
    } else if (ATRIBUTO_ESCOLHIDO == 5) {
        strcpy(nomeAtributo, "PIB per capita");
        valor1 = pibPerCapita1;
        valor2 = pibPerCapita2;
    } else {
        strcpy(nomeAtributo, "Atributo invalido");
    }

    // ==========================
    // Exibir comparação (formato claro)
    // ==========================
    printf("Comparacao de cartas (Atributo: %s):\n\n", nomeAtributo);

    printf("Carta 1 - %s (%c): %.6f\n", nome1, estado1, valor1);
    printf("Carta 2 - %s (%c): %.6f\n", nome2, estado2, valor2);

    // ==========================
    // Determinar vencedora
    // Regras:
    // - Para todos exceto densidade: maior vence
    // - Para densidade: menor vence
    // ==========================
    int vencedora = 0; // 0 = empate, 1 = carta1, 2 = carta2

    if (ATRIBUTO_ESCOLHIDO == 4) {
        // Densidade: MENOR vence
        if (valor1 < valor2) vencedora = 1;
        else if (valor2 < valor1) vencedora = 2;
        else vencedora = 0;
    } else {
        // Outros: MAIOR vence
        if (valor1 > valor2) vencedora = 1;
        else if (valor2 > valor1) vencedora = 2;
        else vencedora = 0;
    }

    // ==========================
    // Mostrar resultado final
    // ==========================
    if (vencedora == 1) {
        printf("\nResultado: Carta 1 (%s) venceu!\n", nome1);
    } else if (vencedora == 2) {
        printf("\nResultado: Carta 2 (%s) venceu!\n", nome2);
    } else {
        printf("\nResultado: Empate!\n");
    }

    // ==========================
    //Mostrar cálculos (densidade e per capita)
    // ==========================
    printf("\n--- Indicadores calculados ---\n");
    printf("Carta 1 - Densidade: %.6f | PIB per capita: %.6f\n", densidade1, pibPerCapita1);
    printf("Carta 2 - Densidade: %.6f | PIB per capita: %.6f\n", densidade2, pibPerCapita2);

    return 0;
}